**Modelagem feita no dbdiagram.io**
```
dbdiagram.io

Table genero {
  id int [pk, increment]
  genero varchar [not null]
}

Table filme {
  id int [pk, increment]
  titulo varchar [not null]
  id_genero int [ref: > genero.id, not null]
  valor decimal(8, 2) [not null]
  duracao int [not null]
}

Table dvd_filme {
  id int [pk, increment]
  id_dvd int [ref: > dvd.id, not null]
  id_filme int [ref: > filme.id, not null]
}

Table dvd {
  id int [pk, increment]
}

Table ator {
  id int [pk, increment]
  nome varchar [not null]
}

Table ator_filme {
  id int [pk, increment]
  id_ator int [ref: > ator.id, not null]
  id_filme int [ref: > filme.id, not null]
  personagem varchar [not null]
}

Table cliente {
  id int [pk, increment]
  nome varchar [not null]
  sobrenome varchar [not null]
  endereco varchar [not null]
  telefone varchar [not null]
}

Table emprestimo {
  id int [pk, increment]
  data datetime [not null]
  id_cliente int [ref: > cliente.id, not null]
  valor_aluguel decimal(8,2) [not null]
}

Table emprestimo_dvd {
  id int [pk, increment]
  id_emprestimo int [ref: > emprestimo.id, not null]
  id_dvd int [ref: > dvd.id, not null]
  status varchar [not null]
}

Table devolucao {
  id int [pk, increment]
  id_emprestimo int [ref: > emprestimo.id, not null]
  data datetime [not null]
}
```
<br>

**Modelagem exportada pra PostgreSQL**
```sql
CREATE TABLE "genero" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "genero" varchar NOT NULL
);

CREATE TABLE "filme" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "titulo" varchar NOT NULL,
  "id_genero" int NOT NULL,
  "valor" decimal(8,2) NOT NULL,
  "duracao" int NOT NULL
);

CREATE TABLE "dvd_filme" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_dvd" int NOT NULL,
  "id_filme" int NOT NULL
);

CREATE TABLE "dvd" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY
);

CREATE TABLE "ator" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "nome" varchar NOT NULL
);

CREATE TABLE "ator_filme" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_ator" int NOT NULL,
  "id_filme" int NOT NULL,
  "personagem" varchar NOT NULL
);

CREATE TABLE "cliente" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "nome" varchar NOT NULL,
  "sobrenome" varchar NOT NULL,
  "endereco" varchar NOT NULL,
  "telefone" varchar NOT NULL
);

CREATE TABLE "emprestimo" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "data" datetime NOT NULL,
  "id_cliente" int NOT NULL,
  "valor_aluguel" decimal(8,2) NOT NULL
);

CREATE TABLE "emprestimo_dvd" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_emprestimo" int NOT NULL,
  "id_dvd" int NOT NULL,
  "status" varchar NOT NULL
);

CREATE TABLE "devolucao" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "id_emprestimo" int NOT NULL,
  "data" datetime NOT NULL
);

ALTER TABLE "filme" ADD FOREIGN KEY ("id_genero") REFERENCES "genero" ("id");

ALTER TABLE "dvd_filme" ADD FOREIGN KEY ("id_dvd") REFERENCES "dvd" ("id");

ALTER TABLE "dvd_filme" ADD FOREIGN KEY ("id_filme") REFERENCES "filme" ("id");

ALTER TABLE "ator_filme" ADD FOREIGN KEY ("id_ator") REFERENCES "ator" ("id");

ALTER TABLE "ator_filme" ADD FOREIGN KEY ("id_filme") REFERENCES "filme" ("id");

ALTER TABLE "emprestimo" ADD FOREIGN KEY ("id_cliente") REFERENCES "cliente" ("id");

ALTER TABLE "emprestimo_dvd" ADD FOREIGN KEY ("id_emprestimo") REFERENCES "emprestimo" ("id");

ALTER TABLE "emprestimo_dvd" ADD FOREIGN KEY ("id_dvd") REFERENCES "dvd" ("id");

ALTER TABLE "devolucao" ADD FOREIGN KEY ("id_emprestimo") REFERENCES "emprestimo" ("id");

```
<br>

**Modelo de Entidade e Relacionamento**

![[Modelagem - Locadora.svg]]